#!/bin/sh


# http://www.germonline.org/info/using/api/api_installation.html

# $ cvs -d :pserver:cvs@code.open-bio.org:/home/repository/bioperl login
# Logging in to :pserver:cvs@code.open-bio.org:2401/home/repository/bioperl
# CVS password: cvs
# Install BioPerl (version 1.2.3)
# 
# $ cvs -d :pserver:cvs@code.open-bio.org:/home/repository/bioperl checkout -r bioperl-release-1-2-3 bioperl-live


download () {
	v="$1"
	mkdir $v || { echo "aborting" 1>&2; exit 1; }
	cd $v
	ln -fns ../bioperl-live .
	#echo "enter 'CVSUSER' for password:"
	set -ex
	#cvs -d :pserver:cvsuser@cvs.sanger.ac.uk:/cvsroot/ensembl login
	cvs -d :pserver:cvsuser@cvs.sanger.ac.uk:/cvsroot/ensembl checkout -r branch-ensembl-$v ensembl
	cvs -d :pserver:cvsuser@cvs.sanger.ac.uk:/cvsroot/ensembl checkout -r branch-ensembl-$v ensembl-compara
	cvs -d :pserver:cvsuser@cvs.sanger.ac.uk:/cvsroot/ensembl checkout -r branch-ensembl-$v ensembl-variation
	cvs -d :pserver:cvsuser@cvs.sanger.ac.uk:/cvsroot/ensembl checkout -r branch-ensembl-$v ensembl-functgenomics
}


case "$1" in
	[5-9][0-9])	download "$1";;
	*) 
		echo "$0: version argument required (and only that)" 1>&2
		exit 1
		;;
esac

;$Id: perl-mode.el,v 1.2 1998/09/29 04:41:05 reece Exp $
;;; perl mode
;===============================================================================
(if running-xemacs
  (autoload 'perl-mode "cperl-mode" "alternate mode for editing Perl programs" t)
  (autoload 'cperl-mode "cperl-mode" "alternate mode for editing Perl programs" t)
  )

(setq										
 cperl-font-lock		t					; for some reason these must
 cperl-comment-column	44)					; be set globally
(defconst reece-cperl-style
  '( ("RPerl"
	 (cperl-indent-level               .  0)
	 (cperl-brace-offset               .  2)
	 (cperl-continued-statement-offset .  2)
	 (cperl-continued-brace-offset     . -2)
	 (cperl-label-offset               . -2)
	 (cperl-close-paren-offset		   . -1))))
(defun Reece-perl-mode-setup ()
  (setq
   cperl-indent-level                0
   cperl-brace-offset                2
   cperl-continued-statement-offset  2
   cperl-continued-brace-offset     -2
   cperl-label-offset               -2
   cperl-close-paren-offset			-1
   cperl-indent-region-fix-constructs nil	; under penalty of death
   )
  (local-set-key "\C-c\C-d"   'cperl-perldoc)
  ;(local-set-key "\C-c\C-d"   'perldb)
  (set-variable 'c-indent-level 0)			; required for c-outline
  (c-outline)
  (modify-syntax-entry ?§ "$")				; extra regexp quoting symbol
  (and (symbolp "cperl-style-alist")
	   (setq cperl-style-alist (append cperl-style-alist reece-cperl-style)))
  )

(if running-xemacs
 (setq auto-mode-alist (cons '("\\.[pP][Llm]$" . perl-mode) auto-mode-alist))
 (setq auto-mode-alist (cons '("\\.[pP][Llm]$" . cperl-mode) auto-mode-alist))
 )

(add-hook 'cperl-mode-hook 'Reece-perl-mode-setup)
;===============================================================================
